[{"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/index.tsx":"1","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/reportWebVitals.ts":"2","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/App.tsx":"3","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/index.tsx":"4","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/mainReducers.tsx":"5","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/actions/index.ts":"6","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/nav-bar/index.tsx":"7","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-card/index.tsx":"8","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/vacation-page/index.tsx":"9","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/vacations.service.ts":"10","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/config/index.tsx":"11","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/login-page/index.tsx":"12","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/async-actions/authUser.ts":"13","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/auth.service.ts":"14","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/token.service.ts":"15","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/auth-header.js":"16","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/admin-page/index.tsx":"17","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-modal/index.tsx":"18","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/async-actions/vacations.ts":"19","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/_helprs/history.js":"20","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/filter/index.tsx":"21","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/PrivateRoute.tsx":"22","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/register-page/index.tsx":"23","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/alertReducer.tsx":"24","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/index.tsx":"25"},{"size":616,"mtime":1615306657958,"results":"26","hashOfConfig":"27"},{"size":425,"mtime":1613418637198,"results":"28","hashOfConfig":"27"},{"size":2085,"mtime":1617607671102,"results":"29","hashOfConfig":"27"},{"size":139,"mtime":1617552410222,"results":"30","hashOfConfig":"27"},{"size":1338,"mtime":1617552663940,"results":"31","hashOfConfig":"27"},{"size":795,"mtime":1617014879757,"results":"32","hashOfConfig":"27"},{"size":6201,"mtime":1617552907940,"results":"33","hashOfConfig":"27"},{"size":8753,"mtime":1617553369215,"results":"34","hashOfConfig":"27"},{"size":3386,"mtime":1617607650027,"results":"35","hashOfConfig":"27"},{"size":2321,"mtime":1617552426836,"results":"36","hashOfConfig":"27"},{"size":97,"mtime":1616068215302,"results":"37","hashOfConfig":"27"},{"size":3528,"mtime":1617552682751,"results":"38","hashOfConfig":"27"},{"size":1406,"mtime":1617552785925,"results":"39","hashOfConfig":"27"},{"size":750,"mtime":1617552445319,"results":"40","hashOfConfig":"27"},{"size":1219,"mtime":1617142861760,"results":"41","hashOfConfig":"27"},{"size":307,"mtime":1615817673614,"results":"42","hashOfConfig":"27"},{"size":2262,"mtime":1617694415971,"results":"43","hashOfConfig":"27"},{"size":4634,"mtime":1616599538519,"results":"44","hashOfConfig":"27"},{"size":1980,"mtime":1617607692758,"results":"45","hashOfConfig":"27"},{"size":381,"mtime":1617140761742,"results":"46","hashOfConfig":"27"},{"size":459,"mtime":1617694400617,"results":"47","hashOfConfig":"27"},{"size":793,"mtime":1617544000250,"results":"48","hashOfConfig":"27"},{"size":4434,"mtime":1617552793574,"results":"49","hashOfConfig":"27"},{"size":628,"mtime":1617607600597,"results":"50","hashOfConfig":"27"},{"size":229,"mtime":1617548865726,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"jxy1r3",{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"54"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"54"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"54"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"54"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"54"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"54"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"54"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/index.tsx",[],["111","112"],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/reportWebVitals.ts",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/App.tsx",["113"],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/mainReducers.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/actions/index.ts",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/nav-bar/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-card/index.tsx",["114"],"import React, { useEffect, useState } from \"react\";\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { red } from \"@material-ui/core/colors\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport css from \"./style.module.css\";\nimport moment from \"moment\";\nimport { BASE_URL } from \"../../../config\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { getIsAdmin } from \"../../../store/services/auth.service\";\nimport {\n  deleteVacationByIdAction,\n  editVacationAction,\n  followVacationByIdAction,\n} from \"../../../store/async-actions/vacations\";\nimport Swal from \"sweetalert2\";\nimport { ModalForm } from \"../vacation-modal\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport { getPayload } from \"../../../store/services/token.service\";\n\nimport { FlightLand, FlightTakeoff } from \"@material-ui/icons\";\nimport { Badge } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: 345,\n      marginTop: \"20px\",\n    },\n    media: {\n      height: 0,\n      paddingTop: \"56.25%\", // 16:9\n    },\n    expand: {\n      transform: \"rotate(0deg)\",\n      marginLeft: \"auto\",\n      transition: theme.transitions.create(\"transform\", {\n        duration: theme.transitions.duration.shortest,\n      }),\n    },\n    expandOpen: {\n      transform: \"rotate(180deg)\",\n    },\n    avatar: {\n      backgroundColor: red[500],\n    },\n    follow: {\n      color: \"rbg(0, 0, 0, 0.54)\",\n      \"&:hover\": {\n        color: red[500],\n      },\n    },\n    isfollowed: {\n      color: red[500],\n    },\n    square: {\n      color: theme.palette.getContrastText(red[500]),\n      backgroundColor: red[500],\n      position: \"relative\",\n      top: \"-20px\",\n      left: \"81%\",\n      padding: \"2px 10px\",\n      borderRadius: \"50%\",\n    },\n  })\n);\n\nconst MySwal = withReactContent(Swal);\nconst showFormModal = (values: any) => {\n  return new Promise((resolve, reject) => {\n    MySwal.fire({\n      html: (\n        <ModalForm\n          title={\"Edit vacation!\"}\n          values={values}\n          onSubmit={(values: any) => {\n            resolve(values);\n            Swal.close();\n          }}\n          onCancel={() => {\n            reject();\n            Swal.close();\n          }}\n        />\n      ),\n      willClose: () => reject(),\n      showConfirmButton: false,\n    });\n  });\n};\n\nexport default function VacationCard(props: any) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isFollowed, setIsFollowed] = useState(false);\n  const currentUser = getPayload();\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  useEffect(() => {\n    const isAdmin = getIsAdmin();\n    if (!isAdmin) return;\n    setIsAdmin(true);\n  }, []);\n\n  useEffect(() => {\n    const followers = props.followerUsers;\n    const splitFollowers = followers.split(\",\");\n    const isFollow = splitFollowers.find((f: any) => {\n      return Number(f) === currentUser.data.id;\n    });\n    currentUser.data.id === Number(isFollow)\n      ? setIsFollowed(true)\n      : setIsFollowed(false);\n  }, [props]);\n\n  // const favIcon = isFollowed ? (\n  //   <FavoriteIcon className={classes.isfollowed} />\n  // ) : (\n  //   <FavoriteIcon className={classes.follow} />\n  // );\n\n  const handelFollowVacation = () => {\n    const follow = followVacationByIdAction(props.id);\n    if (follow) {\n      props.socket.emit(\"reload\", {});\n    }\n  };\n  const handelDeleteVacation = () => {\n    Swal.fire({\n      title: `Are you sure you want to delete ${props.destination} - Vacation ?`,\n      text: \"You won't be able to revert this!\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        const deleteVacation = deleteVacationByIdAction(Number(props.id));\n        if (deleteVacation) {\n          Swal.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n          props.socket.emit(\"reload\", {});\n        }\n      }\n    });\n    //const deleteVacation = deleteVacationByIdAction(Number(props.id));\n  };\n\n  const handelEditVacation = () => {\n    showFormModal({\n      destination: props.destination,\n      description: props.description,\n      startAt: moment(props.startAt).format(\"YYYY-MM-DD\"),\n      endAt: moment(props.endAt).format(\"YYYY-MM-DD\"),\n      price: props.price,\n      file: props.image,\n    })\n      .then((values) => {\n        editVacationAction(Number(props.id), values).then((done) => {\n          props.socket.emit(\"reload\", {});\n          Swal.fire(\"Edited!\", \"Your Vacation has been Edited.\", \"success\");\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  const imagePath = props.image?.split(\"/\")[1];\n\n  const timeAgo = (time: Date) => {\n    // moment.locale('ar-eg');\n    return moment(time).fromNow();\n  };\n  const getFirstLatterOfdes = props.destination.charAt(0).toLocaleUpperCase();\n\n  return (\n    <div className={css.vacationCardView}>\n      <Card className={classes.root}>\n        <CardHeader\n          className={css.title}\n          avatar={\n            <Avatar aria-label=\"recipe\" className={classes.avatar}>\n              {getFirstLatterOfdes}\n            </Avatar>\n          }\n          action={\n            <div>\n              {!isAdmin && (\n                <IconButton\n                  aria-label=\"settings\"\n                  onClick={handelFollowVacation}\n                >\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={props.numberOfFollowers}\n                    showZero\n                  >\n                    {isFollowed ? (\n                      <FavoriteIcon className={classes.isfollowed} />\n                    ) : (\n                      <FavoriteIcon className={classes.follow} />\n                    )}\n                  </Badge>\n                </IconButton>\n              )}\n              {isAdmin && (\n                <div>\n                  <IconButton\n                    aria-label=\"settings\"\n                    onClick={handelDeleteVacation}\n                  >\n                    <DeleteForeverIcon className={classes.follow} />\n                  </IconButton>\n                  <IconButton\n                    aria-label=\"settings\"\n                    onClick={handelEditVacation}\n                  >\n                    <EditIcon className={classes.follow} />\n                  </IconButton>\n                </div>\n              )}\n            </div>\n          }\n          title={props.destination}\n          subheader={timeAgo(props.createdAt)}\n        />\n\n        <CardMedia\n          className={classes.media}\n          image={BASE_URL + \"/\" + imagePath}\n          title=\"Paella dish\"\n        />\n        <Avatar variant=\"square\" className={classes.square}>\n          {props.price}$\n        </Avatar>\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {props.description}\n          </Typography>\n        </CardContent>\n        <CardActions disableSpacing>\n          <div className={css.flightSection}>\n            <div className={css.flightDiv}>\n              <FlightLand />\n              <br />({moment(props.start).format(\"YY-MMM-DD\")})\n            </div>\n            <div className={css.flightDiv}>\n              <FlightTakeoff />\n              <br />({moment(props.endAt).format(\"YY-MMM-DD\")})\n            </div>\n          </div>\n          <IconButton\n            className={clsx(classes.expand, {\n              [classes.expandOpen]: expanded,\n            })}\n            onClick={handleExpandClick}\n            aria-expanded={expanded}\n            aria-label=\"show more\"\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n        </CardActions>\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n          <CardContent>\n            <Typography paragraph>{props.description}</Typography>\n          </CardContent>\n        </Collapse>\n      </Card>{\" \"}\n    </div>\n  );\n}\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/vacation-page/index.tsx",["115"],"import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { IVacation } from \"../../../../interfaces\";\nimport { getVacationsAction } from \"../../../../store/async-actions/vacations\";\nimport VacationCard from \"../../../ui-component/vacation-card\";\nimport css from \"./style.module.css\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport {\n  Button,\n  createStyles,\n  Divider,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { getIsAdmin } from \"../../../../store/services/auth.service\";\nimport { ModalForm } from \"../../../ui-component/vacation-modal\";\nimport { addNewVacationsService } from \"../../../../store/services/vacations.service\";\nimport { IO_CONNECTION } from \"../../../../config\";\n\nimport { io } from \"socket.io-client\";\nimport moment from \"moment\";\nimport { IAllState } from \"../../../../App\";\n\nlet socket: any;\nconst MySwal = withReactContent(Swal);\nconst showFormModal = (values: any) => {\n  return new Promise((resolve, reject) => {\n    MySwal.fire({\n      html: (\n        <ModalForm\n          title={\"Add new vacation!\"}\n          values={values}\n          onSubmit={(values: any) => {\n            resolve(values);\n            Swal.close();\n          }}\n          onCancel={() => {\n            reject();\n            Swal.close();\n          }}\n        />\n      ),\n      willClose: () => reject(),\n      showConfirmButton: false,\n    });\n  });\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      margin: \"5vh auto\",\n      color: \"white\",\n      backgroundColor: \"#f44336\",\n      width: \"30vh\",\n    },\n  })\n);\nexport default function VacationsPage() {\n  const classes = useStyles();\n  const isAdmin = getIsAdmin();\n\n  const vacations: IVacation[] = useSelector(\n    (store: IAllState) => store.mainReducer.vacations\n  );\n\n  useEffect(() => {\n    getVacationsAction();\n  }, []);\n\n  useEffect(() => {\n    socket = io(IO_CONNECTION);\n    socket.on(\"reloadPage\", (data: any) => {\n      setTimeout(() => {\n        getVacationsAction();\n      }, 500);\n    });\n  }, []);\n\n  const showModal = () => {\n    showFormModal({\n      destination: \"\",\n      description: \"\",\n      startAt: moment(new Date()).format(\"YYYY-MM-DD\"),\n      endAt: moment(new Date()).format(\"YYYY-MM-DD\"),\n      price: \"\",\n      file: \"\",\n    })\n      .then((values) => {\n        const addVacation = addNewVacationsService(values).then((done) => {\n          socket.emit(\"reload\", {});\n          Swal.fire(\"Added!\", \"Your Vacation has been added.\", \"success\");\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  return (\n    <div>\n      {isAdmin && (\n        <div className={css.btnAddVacation}>\n          <h1 className={css.welcomeTitle}>Welcome Admin</h1>\n          <Button\n            variant=\"contained\"\n            className={classes.button}\n            startIcon={<AddIcon />}\n            onClick={showModal}\n          >\n            Add New Vacation\n          </Button>\n          <Divider variant=\"middle\" />\n        </div>\n      )}\n      <div>\n        <h1> Vacations </h1>\n      </div>\n\n      <div className={css.vacationCardView}>\n        {vacations.map((vacation: IVacation) => (\n          <VacationCard key={vacation.id} {...vacation} socket={socket} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/vacations.service.ts",["116","117","118"],"import axios from \"axios\";\nimport { BASE_URL } from \"../../config\";\n\nconst API_URL = `${BASE_URL}/vacation`;\nasync function getVacationsService() {\n  const { data } = await axios.get(`${API_URL}`, {\n    headers: { \"x-access-token\": localStorage.getItem(\"VacationApp\") },\n  });\n\n  return data.result;\n}\n\nasync function addNewVacationsService(newVacation: any) {\n  const { destination, description, startAt, endAt, price, file } = newVacation;\n  const formData = new FormData();\n  formData.append(\"destination\", destination);\n  formData.append(\"description\", description);\n  formData.append(\"startAt\", startAt);\n  formData.append(\"endAt\", endAt);\n  formData.append(\"price\", price);\n  formData.append(\"file\", file);\n\n  const { data } = await axios.post(`${API_URL}/createVacation`, formData, {\n    headers: {\n      \"x-access-token\": localStorage.getItem(\"VacationApp\"),\n      \"content-type\": \"multipart/form-data\",\n    },\n  });\n\n  return data.result;\n}\n\nasync function editeVacationsService(vacationId: number, vacationDetails: any) {\n  console.log(\"edit\", vacationDetails);\n  const {\n    destination,\n    description,\n    startAt,\n    endAt,\n    price,\n    file,\n  } = vacationDetails;\n  const formData = new FormData();\n  formData.append(\"destination\", destination);\n  formData.append(\"description\", description);\n  formData.append(\"startAt\", startAt);\n  formData.append(\"endAt\", endAt);\n  formData.append(\"price\", price);\n  formData.append(\"file\", file);\n  const { data } = await axios.put(`${API_URL}` + \"/\" + vacationId, formData, {\n    headers: {\n      \"x-access-token\": localStorage.getItem(\"VacationApp\"),\n      \"content-type\": \"multipart/form-data\",\n    },\n  });\n\n  return data.result;\n}\n\nasync function deleteVacationByIdService(vacationId: number) {\n  const { data } = await axios.delete(`${API_URL}` + \"/\" + vacationId, {\n    headers: { \"x-access-token\": localStorage.getItem(\"VacationApp\") },\n  });\n  return data;\n}\n\nasync function followVacationsService(vacationId: any) {\n  const { data } = await axios.post(\n    `${API_URL}` + \"/follow\",\n    { vacationId },\n    {\n      headers: { \"x-access-token\": localStorage.getItem(\"VacationApp\") },\n    }\n  );\n  return data;\n}\n\nexport {\n  getVacationsService,\n  addNewVacationsService,\n  deleteVacationByIdService,\n  editeVacationsService,\n  followVacationsService,\n};\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/config/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/login-page/index.tsx",["119"],"import React, { useEffect, useState } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport css from \"./style.module.css\";\nimport { Card, CardActions, CardContent, Paper } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport { LoginAction } from \"../../../../store/async-actions/authUser\";\nimport { useSelector } from \"react-redux\";\nimport { IState } from \"../../../../store/reducers/mainReducers\";\nimport { useHistory } from \"react-router-dom\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { IAllState } from \"../../../../App\";\n\nexport function LoginPage() {\n  const userFeild: any = {\n    userName: \"\",\n    password: \"\",\n  };\n  const history = useHistory();\n\n  const alert = useSelector((state: IState) => state.message);\n  const [loginDetails, setChangePasswordDetails] = useState(userFeild);\n  const currentUser = useSelector(\n    (state: IAllState) => state.mainReducer.currentUser\n  );\n\n  function onChangePassword(key: string, value: string) {\n    setChangePasswordDetails({ ...loginDetails, [key]: value });\n  }\n\n  useEffect(() => {\n    if (currentUser.isLoggedIn === true) history.push(\"/home\");\n  }, []);\n\n  async function sendLoginReuqest() {\n    if (!loginDetails.userName || !loginDetails.password) return;\n    const result = await LoginAction(loginDetails);\n    if (!result) return;\n    const { accessToken, message } = result;\n    if (message === \"redirect\" && accessToken) {\n      window.location.reload();\n      history.push(\"/home\");\n    }\n  }\n\n  return (\n    <div>\n      <div className={css.grow}>\n        <AppBar className={css.appBar} position=\"static\">\n          <div className={css.wrapper}>\n            <div className={css.header}>- Welcom to Vacation App - </div>\n          </div>\n        </AppBar>\n      </div>\n      <div className={css.loginDiv}>\n        <Paper>\n          <form>\n            <Card className={css.cardDiv}>\n              <h2>Login please</h2>\n              <CardContent>\n                <div>\n                  {alert && (\n                    <Alert severity=\"error\">\n                      <AlertTitle>Error</AlertTitle>\n                      <strong>{alert}</strong>\n                    </Alert>\n                  )}\n                </div>\n                <TextField\n                  className={css.textField}\n                  label=\"Enter your User Name\"\n                  fullWidth\n                  required\n                  type=\"text\"\n                  name=\"userName\"\n                  onChange={(event) => {\n                    onChangePassword(event?.target.name, event?.target.value);\n                  }}\n                />\n                <TextField\n                  className={css.textField}\n                  label=\"Enter your password\"\n                  fullWidth\n                  required\n                  type=\"password\"\n                  name=\"password\"\n                  onChange={(event) => {\n                    onChangePassword(event?.target.name, event?.target.value);\n                  }}\n                />\n              </CardContent>\n              <CardActions style={{ justifyContent: \"space-between\" }}>\n                <Button\n                  onClick={sendLoginReuqest}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                >\n                  Login\n                </Button>\n              </CardActions>\n            </Card>\n          </form>\n        </Paper>\n      </div>\n    </div>\n  );\n}\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/async-actions/authUser.ts",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/auth.service.ts",["120"],"import axios from \"axios\";\nimport { BASE_URL } from \"../../config\";\nimport { IUser, IUserRegister } from \"../../interfaces\";\nimport { getPayload } from \"./token.service\";\n\nconst API_URL = `${BASE_URL}/auth`;\n\nasync function loginService(userDetails: IUser) {\n  const { data } = await axios.post(`${API_URL}/login`, userDetails);\n  return data;\n}\n\nasync function registerService(userDetails: IUserRegister) {\n  const { data } = await axios.post(`${API_URL}/register`, userDetails);\n  return data;\n}\n\nfunction getIsAdmin() {\n  const user = getPayload();\n  if (!user) return;\n  const { role } = user.data;\n  if (!role) return;\n\n  const isAdmin = role == \"Admin\" ? true : false;\n  return isAdmin;\n}\n\nexport { loginService, getIsAdmin, registerService };\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/token.service.ts",["121"],"function setToken(token: string) {\n  localStorage.setItem(\"VacationApp\", token);\n}\nfunction getToken() {\n  return localStorage.getItem(\"VacationApp\");\n}\nfunction deleteToken() {\n  localStorage.removeItem(\"VacationApp\");\n}\nfunction getPayload() {\n  const token = getToken();\n  let payload;\n  if (token) {\n    try {\n      payload = token.split(\".\")[1];\n      payload = JSON.parse(atob(payload));\n      const checkExpirationDate = getExpirationDate(payload);\n      if (!checkExpirationDate) return;\n      const checkIfExpired = isExpired(checkExpirationDate);\n      if (checkIfExpired) {\n        localStorage.removeItem(\"VacationApp\");\n        window.location.href = \"/\";\n        throw new Error(\"token has been expaired\");\n      }\n      return payload;\n    } catch (error) {\n      console.log(error);\n      if (payload == undefined) {\n        return deleteToken();\n      }\n    }\n  }\n}\n\nfunction getExpirationDate(jwtToken?: any) {\n  if (!jwtToken) {\n    return null;\n  }\n  const checkExpirationDate = jwtToken.exp * 1000 || null;\n  return checkExpirationDate;\n}\n\nfunction isExpired(exp?: number) {\n  if (!exp) {\n    return false;\n  }\n\n  return Date.now() > exp;\n}\n\nexport { setToken, getToken, deleteToken, getPayload };\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/auth-header.js",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/admin-page/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-modal/index.tsx",["122","123"],"import React from \"react\";\nimport { Formik, Form } from \"formik\";\n\nimport { Input, TextField } from \"@material-ui/core\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport moment from \"moment\";\nimport { BASE_URL } from \"../../../config\";\n\nexport function ModalForm(props: any) {\n  const { title, values, onChange, onSubmit, onCancel } = props;\n  const imagePath = values.file?.split(\"/\")[1];\n  return (\n    <div>\n      <h3>{title}</h3>\n\n      <Formik\n        initialValues={values}\n        onSubmit={onSubmit}\n        render={({ isValid, errors, values, handleChange, setFieldValue }) => {\n          return (\n            <Form>\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <div>\n                  <TextField\n                    label=\"Destination\"\n                    value={values.destination}\n                    fullWidth\n                    required\n                    type=\"text\"\n                    name=\"destination\"\n                    onChange={handleChange}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    label=\"description\"\n                    fullWidth\n                    type=\"text\"\n                    name=\"description\"\n                    value={values.description}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                <div>\n                  <KeyboardDatePicker\n                    margin=\"normal\"\n                    fullWidth\n                    id=\"date-picker-dialog\"\n                    label=\"startAt\"\n                    format=\"MM/dd/yyyy\"\n                    value={values.startAt}\n                    onChange={(date) => {\n                      console.log(date);\n                      console.log(moment(date).format(\"YYYY-MM-DD\"));\n                      setFieldValue(\n                        \"startAt\",\n                        moment(date).format(\"YYYY-MM-DD\")\n                      );\n                    }}\n                    KeyboardButtonProps={{\n                      \"aria-label\": \"change date\",\n                    }}\n                  />\n                </div>\n                <div>\n                  <KeyboardDatePicker\n                    margin=\"normal\"\n                    fullWidth\n                    id=\"date-picker-dialog\"\n                    label=\"endAt\"\n                    format=\"MM/dd/yyyy\"\n                    value={values.endAt}\n                    onChange={(date) =>\n                      setFieldValue(\"endAt\", moment(date).format(\"YYYY-MM-DD\"))\n                    }\n                    KeyboardButtonProps={{\n                      \"aria-label\": \"change date\",\n                    }}\n                  />\n                </div>\n                <div>\n                  <TextField\n                    label=\"price\"\n                    fullWidth\n                    type=\"number\"\n                    name=\"price\"\n                    value={values.price}\n                    onChange={handleChange}\n                  />\n                </div>\n                <div>\n                  <img\n                    width=\"100%\"\n                    // className={classes.media}\n                    src={BASE_URL + \"/\" + imagePath}\n                  />\n                </div>\n                <div>\n                  <Input\n                    type=\"file\"\n                    name=\"file\"\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                      setFieldValue(\"file\", e.target.files![0]!);\n                    }}\n                  />\n                </div>\n                <div\n                  className=\"swal2-actions\"\n                  style={{ display: \"flex\", fontSize: \"0.9em\" }}\n                >\n                  <button\n                    disabled={!isValid}\n                    type=\"submit\"\n                    className=\"swal2-confirm swal2-styled\"\n                    style={{\n                      backgroundColor: \"#f44336\",\n                    }}\n                  >\n                    OK\n                  </button>\n                  <button\n                    onClick={onCancel}\n                    type=\"button\"\n                    className=\"swal2-cancel swal2-styled\"\n                    style={{\n                      display: \"inline-block\",\n                    }}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </MuiPickersUtilsProvider>\n            </Form>\n          );\n        }}\n      />\n    </div>\n  );\n}\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/async-actions/vacations.ts",["124","125"],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/_helprs/history.js",[],["126","127"],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/filter/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/PrivateRoute.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/register-page/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/alertReducer.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/index.tsx",[],{"ruleId":"128","replacedBy":"129"},{"ruleId":"130","replacedBy":"131"},{"ruleId":"132","severity":1,"message":"133","line":39,"column":6,"nodeType":"134","endLine":39,"endColumn":8,"suggestions":"135"},{"ruleId":"132","severity":1,"message":"136","line":128,"column":6,"nodeType":"134","endLine":128,"endColumn":13,"suggestions":"137"},{"ruleId":"138","severity":1,"message":"139","line":92,"column":15,"nodeType":"140","messageId":"141","endLine":92,"endColumn":26},{"ruleId":"142","severity":1,"message":"143","line":50,"column":49,"nodeType":"144","messageId":"145","endLine":50,"endColumn":50},{"ruleId":"142","severity":1,"message":"143","line":61,"column":52,"nodeType":"144","messageId":"145","endLine":61,"endColumn":53},{"ruleId":"142","severity":1,"message":"143","line":69,"column":18,"nodeType":"144","messageId":"145","endLine":69,"endColumn":19},{"ruleId":"132","severity":1,"message":"146","line":33,"column":6,"nodeType":"134","endLine":33,"endColumn":8,"suggestions":"147"},{"ruleId":"148","severity":1,"message":"149","line":24,"column":24,"nodeType":"144","messageId":"150","endLine":24,"endColumn":26},{"ruleId":"148","severity":1,"message":"149","line":28,"column":19,"nodeType":"144","messageId":"150","endLine":28,"endColumn":21},{"ruleId":"138","severity":1,"message":"151","line":14,"column":26,"nodeType":"140","messageId":"141","endLine":14,"endColumn":34},{"ruleId":"152","severity":1,"message":"153","line":97,"column":19,"nodeType":"154","endLine":101,"endColumn":21},{"ruleId":"138","severity":1,"message":"155","line":43,"column":11,"nodeType":"140","messageId":"141","endLine":43,"endColumn":17},{"ruleId":"138","severity":1,"message":"155","line":49,"column":11,"nodeType":"140","messageId":"141","endLine":49,"endColumn":17},{"ruleId":"128","replacedBy":"129"},{"ruleId":"130","replacedBy":"131"},"no-native-reassign",["156"],"no-negated-in-lhs",["157"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["158"],"React Hook useEffect has a missing dependency: 'currentUser.data.id'. Either include it or remove the dependency array.",["159"],"@typescript-eslint/no-unused-vars","'addVacation' is assigned a value but never used.","Identifier","unusedVar","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","React Hook useEffect has missing dependencies: 'currentUser.isLoggedIn' and 'history'. Either include them or remove the dependency array.",["160"],"eqeqeq","Expected '===' and instead saw '=='.","unexpected","'onChange' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'result' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"161","fix":"162"},{"desc":"163","fix":"164"},{"desc":"165","fix":"166"},"Update the dependencies array to be: [dispatch]",{"range":"167","text":"168"},"Update the dependencies array to be: [currentUser.data.id, props]",{"range":"169","text":"170"},"Update the dependencies array to be: [currentUser.isLoggedIn, history]",{"range":"171","text":"172"},[1324,1326],"[dispatch]",[3774,3781],"[currentUser.data.id, props]",[1230,1232],"[currentUser.isLoggedIn, history]"]