[{"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/index.tsx":"1","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/reportWebVitals.ts":"2","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/App.tsx":"3","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/index.tsx":"4","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/mainReducers.tsx":"5","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/actions/index.ts":"6","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/nav-bar/index.tsx":"7","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-card/index.tsx":"8","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/vacation-page/index.tsx":"9","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/vacations.service.ts":"10","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/config/index.tsx":"11","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/login-page/index.tsx":"12","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/async-actions/authUser.ts":"13","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/auth.service.ts":"14","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/token.service.ts":"15","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/auth-header.js":"16","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/admin-page/index.tsx":"17","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-modal/index.tsx":"18","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/async-actions/vacations.ts":"19","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/_helprs/history.js":"20","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/filter/index.tsx":"21","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/PrivateRoute.tsx":"22","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/register-page/index.tsx":"23","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/alertReducer.tsx":"24","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/index.tsx":"25","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-modal/CustomImageInput.js":"26","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-modal/CustomImageInputStyle.js":"27"},{"size":616,"mtime":1615306657958,"results":"28","hashOfConfig":"29"},{"size":425,"mtime":1613418637198,"results":"30","hashOfConfig":"29"},{"size":1846,"mtime":1617876540037,"results":"31","hashOfConfig":"29"},{"size":139,"mtime":1617552410222,"results":"32","hashOfConfig":"29"},{"size":1029,"mtime":1617830734639,"results":"33","hashOfConfig":"29"},{"size":795,"mtime":1617014879757,"results":"34","hashOfConfig":"29"},{"size":6201,"mtime":1617552907940,"results":"35","hashOfConfig":"29"},{"size":8743,"mtime":1617794059510,"results":"36","hashOfConfig":"29"},{"size":3525,"mtime":1618253284769,"results":"37","hashOfConfig":"29"},{"size":2321,"mtime":1617552426836,"results":"38","hashOfConfig":"29"},{"size":97,"mtime":1618252312943,"results":"39","hashOfConfig":"29"},{"size":6293,"mtime":1617876513130,"results":"40","hashOfConfig":"29"},{"size":1488,"mtime":1617872201775,"results":"41","hashOfConfig":"29"},{"size":750,"mtime":1617552445319,"results":"42","hashOfConfig":"29"},{"size":1219,"mtime":1617142861760,"results":"43","hashOfConfig":"29"},{"size":307,"mtime":1615817673614,"results":"44","hashOfConfig":"29"},{"size":2363,"mtime":1618771774054,"results":"45","hashOfConfig":"29"},{"size":7441,"mtime":1617794268512,"results":"46","hashOfConfig":"29"},{"size":1780,"mtime":1618252263780,"results":"47","hashOfConfig":"29"},{"size":381,"mtime":1617140761742,"results":"48","hashOfConfig":"29"},{"size":459,"mtime":1617694400617,"results":"49","hashOfConfig":"29"},{"size":793,"mtime":1617544000250,"results":"50","hashOfConfig":"29"},{"size":8906,"mtime":1618252398295,"results":"51","hashOfConfig":"29"},{"size":615,"mtime":1617832577584,"results":"52","hashOfConfig":"29"},{"size":229,"mtime":1617548865726,"results":"53","hashOfConfig":"29"},{"size":2866,"mtime":1617793931511,"results":"54","hashOfConfig":"29"},{"size":727,"mtime":1617793102530,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"jxy1r3",{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"58"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"58"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"58"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"58"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"58"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"58"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"58"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"58"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"58"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"58"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"121"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"121"},"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/index.tsx",[],["124","125"],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/reportWebVitals.ts",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/App.tsx",["126"],"import React, { useEffect } from \"react\";\nimport \"./App.css\";\n\nimport { PrivateRoute, PrivateAdminRoute } from \"./components/PrivateRoute\";\n\nimport VacationsPage from \"./components/containers/pages/vacation-page\";\nimport { LoginPage } from \"./components/containers/pages/login-page\";\nimport AdminPage from \"./components/containers/pages/admin-page\";\nimport NavBarApp from \"./components/ui-component/nav-bar\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { IState } from \"./store/reducers/mainReducers\";\nimport ACTIONS from \"./store/actions\";\nimport { RegisterPage } from \"./components/containers/pages/register-page\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { IAlertState } from \"./store/reducers/alertReducer\";\n\nexport interface IAllState {\n  mainReducer: IState;\n  alertReducer: IAlertState;\n}\nfunction App() {\n  const isLogedIn = useSelector(\n    (state: IAllState) => state.mainReducer.currentUser.isLoggedIn\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch({ type: ACTIONS.ALERT_MESSAGE.CLEAR, payload: \"\" });\n  }, []);\n\n  return (\n    <Router>\n      <div>\n        {isLogedIn && <NavBarApp />}\n        <div>\n          <Switch>\n            <Route key=\"register\" path=\"/register\">\n              <div className=\"vacationCard\">\n                <RegisterPage />\n              </div>\n            </Route>\n            <PrivateRoute exact path=\"/home\" component={VacationsPage} />\n            <PrivateAdminRoute exact path=\"/admin\" component={AdminPage} />\n            <Route key=\"login\" path=\"/\">\n              <div className=\"vacationCard\">\n                <LoginPage />\n              </div>\n            </Route>\n            <Redirect from=\"*\" to=\"/\" />\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/mainReducers.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/actions/index.ts",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/nav-bar/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-card/index.tsx",["127"],"import React, { useEffect, useState } from \"react\";\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { red } from \"@material-ui/core/colors\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport css from \"./style.module.css\";\nimport moment from \"moment\";\nimport { BASE_URL } from \"../../../config\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { getIsAdmin } from \"../../../store/services/auth.service\";\nimport {\n  deleteVacationByIdAction,\n  editVacationAction,\n  followVacationByIdAction,\n} from \"../../../store/async-actions/vacations\";\nimport Swal from \"sweetalert2\";\nimport { ModalForm } from \"../vacation-modal\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport { getPayload } from \"../../../store/services/token.service\";\n\nimport { FlightLand, FlightTakeoff } from \"@material-ui/icons\";\nimport { Badge } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: 345,\n      marginTop: \"20px\",\n    },\n    media: {\n      height: 0,\n      paddingTop: \"56.25%\", // 16:9\n    },\n    expand: {\n      transform: \"rotate(0deg)\",\n      marginLeft: \"auto\",\n      transition: theme.transitions.create(\"transform\", {\n        duration: theme.transitions.duration.shortest,\n      }),\n    },\n    expandOpen: {\n      transform: \"rotate(180deg)\",\n    },\n    avatar: {\n      backgroundColor: red[500],\n    },\n    follow: {\n      color: \"rbg(0, 0, 0, 0.54)\",\n      \"&:hover\": {\n        color: red[500],\n      },\n    },\n    isfollowed: {\n      color: red[500],\n    },\n    square: {\n      color: theme.palette.getContrastText(red[500]),\n      backgroundColor: red[500],\n      position: \"relative\",\n      top: \"-20px\",\n      left: \"81%\",\n      padding: \"2px 10px\",\n      borderRadius: \"50%\",\n    },\n  })\n);\n\nconst MySwal = withReactContent(Swal);\nconst showFormModal = (values: any) => {\n  return new Promise((resolve, reject) => {\n    MySwal.fire({\n      html: (\n        <ModalForm\n          title={\"Edit\"}\n          values={values}\n          onSubmit={(values: any) => {\n            resolve(values);\n            Swal.close();\n          }}\n          onCancel={() => {\n            reject();\n            Swal.close();\n          }}\n        />\n      ),\n      willClose: () => reject(),\n      showConfirmButton: false,\n    });\n  });\n};\n\nexport default function VacationCard(props: any) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isFollowed, setIsFollowed] = useState(false);\n  const currentUser = getPayload();\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  useEffect(() => {\n    const isAdmin = getIsAdmin();\n    if (!isAdmin) return;\n    setIsAdmin(true);\n  }, []);\n\n  useEffect(() => {\n    const followers = props.followerUsers;\n    const splitFollowers = followers.split(\",\");\n    const isFollow = splitFollowers.find((f: any) => {\n      return Number(f) === currentUser.data.id;\n    });\n    currentUser.data.id === Number(isFollow)\n      ? setIsFollowed(true)\n      : setIsFollowed(false);\n  }, [props]);\n\n  // const favIcon = isFollowed ? (\n  //   <FavoriteIcon className={classes.isfollowed} />\n  // ) : (\n  //   <FavoriteIcon className={classes.follow} />\n  // );\n\n  const handelFollowVacation = () => {\n    const follow = followVacationByIdAction(props.id);\n    if (follow) {\n      props.socket.emit(\"reload\", {});\n    }\n  };\n  const handelDeleteVacation = () => {\n    Swal.fire({\n      title: `Are you sure you want to delete ${props.destination} - Vacation ?`,\n      text: \"You won't be able to revert this!\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        const deleteVacation = deleteVacationByIdAction(Number(props.id));\n        if (deleteVacation) {\n          Swal.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n          props.socket.emit(\"reload\", {});\n        }\n      }\n    });\n    //const deleteVacation = deleteVacationByIdAction(Number(props.id));\n  };\n\n  const handelEditVacation = () => {\n    showFormModal({\n      destination: props.destination,\n      description: props.description,\n      startAt: moment(props.startAt).format(\"YYYY-MM-DD\"),\n      endAt: moment(props.endAt).format(\"YYYY-MM-DD\"),\n      price: props.price,\n      file: props.image,\n    })\n      .then((values) => {\n        editVacationAction(Number(props.id), values).then((done) => {\n          props.socket.emit(\"reload\", {});\n          Swal.fire(\"Edited!\", \"Your Vacation has been Edited.\", \"success\");\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  const imagePath = props.image?.split(\"/\")[1];\n\n  const timeAgo = (time: Date) => {\n    // moment.locale('ar-eg');\n    return moment(time).fromNow();\n  };\n  const getFirstLatterOfdes = props.destination.charAt(0).toLocaleUpperCase();\n\n  return (\n    <div className={css.vacationCardView}>\n      <Card className={classes.root}>\n        <CardHeader\n          className={css.title}\n          avatar={\n            <Avatar aria-label=\"recipe\" className={classes.avatar}>\n              {getFirstLatterOfdes}\n            </Avatar>\n          }\n          action={\n            <div>\n              {!isAdmin && (\n                <IconButton\n                  aria-label=\"settings\"\n                  onClick={handelFollowVacation}\n                >\n                  <Badge\n                    color=\"secondary\"\n                    badgeContent={props.numberOfFollowers}\n                    showZero\n                  >\n                    {isFollowed ? (\n                      <FavoriteIcon className={classes.isfollowed} />\n                    ) : (\n                      <FavoriteIcon className={classes.follow} />\n                    )}\n                  </Badge>\n                </IconButton>\n              )}\n              {isAdmin && (\n                <div>\n                  <IconButton\n                    aria-label=\"settings\"\n                    onClick={handelDeleteVacation}\n                  >\n                    <DeleteForeverIcon className={classes.follow} />\n                  </IconButton>\n                  <IconButton\n                    aria-label=\"settings\"\n                    onClick={handelEditVacation}\n                  >\n                    <EditIcon className={classes.follow} />\n                  </IconButton>\n                </div>\n              )}\n            </div>\n          }\n          title={props.destination}\n          subheader={timeAgo(props.createdAt)}\n        />\n\n        <CardMedia\n          className={classes.media}\n          image={BASE_URL + \"/\" + imagePath}\n          title=\"Paella dish\"\n        />\n        <Avatar variant=\"square\" className={classes.square}>\n          {props.price}$\n        </Avatar>\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {props.description}\n          </Typography>\n        </CardContent>\n        <CardActions disableSpacing>\n          <div className={css.flightSection}>\n            <div className={css.flightDiv}>\n              <FlightLand />\n              <br />({moment(props.start).format(\"YY-MMM-DD\")})\n            </div>\n            <div className={css.flightDiv}>\n              <FlightTakeoff />\n              <br />({moment(props.endAt).format(\"YY-MMM-DD\")})\n            </div>\n          </div>\n          <IconButton\n            className={clsx(classes.expand, {\n              [classes.expandOpen]: expanded,\n            })}\n            onClick={handleExpandClick}\n            aria-expanded={expanded}\n            aria-label=\"show more\"\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n        </CardActions>\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n          <CardContent>\n            <Typography paragraph>{props.description}</Typography>\n          </CardContent>\n        </Collapse>\n      </Card>{\" \"}\n    </div>\n  );\n}\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/vacation-page/index.tsx",["128"],"import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { IVacation } from \"../../../../interfaces\";\nimport { getVacationsAction } from \"../../../../store/async-actions/vacations\";\nimport VacationCard from \"../../../ui-component/vacation-card\";\nimport css from \"./style.module.css\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport {\n  Button,\n  createStyles,\n  Divider,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { getIsAdmin } from \"../../../../store/services/auth.service\";\nimport { ModalForm } from \"../../../ui-component/vacation-modal\";\nimport { addNewVacationsService } from \"../../../../store/services/vacations.service\";\nimport { IO_CONNECTION } from \"../../../../config\";\n\nimport { io } from \"socket.io-client\";\nimport moment from \"moment\";\nimport { IAllState } from \"../../../../App\";\n\nlet socket: any;\nconst MySwal = withReactContent(Swal);\nconst showFormModal = (values: any) => {\n  return new Promise((resolve, reject) => {\n    MySwal.fire({\n      html: (\n        <ModalForm\n          title={\"Add new \"}\n          values={values}\n          onSubmit={(values: any) => {\n            resolve(values);\n            Swal.close();\n          }}\n          onCancel={() => {\n            reject();\n            Swal.close();\n          }}\n        />\n      ),\n      willClose: () => reject(),\n      showConfirmButton: false,\n    });\n  });\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      margin: \"5vh auto\",\n      color: \"white\",\n      backgroundColor: \"#f44336\",\n      width: \"30vh\",\n    },\n  })\n);\nexport default function VacationsPage() {\n  const classes = useStyles();\n  const isAdmin = getIsAdmin();\n\n  const vacations: IVacation[] = useSelector(\n    (store: IAllState) => store.mainReducer.vacations\n  );\n\n  useEffect(() => {\n    getVacationsAction();\n  }, []);\n\n  useEffect(() => {\n    socket = io(IO_CONNECTION);\n    socket.on(\"reloadPage\", (data: any) => {\n      setTimeout(() => {\n        getVacationsAction();\n      }, 500);\n    });\n  }, []);\n\n  const showModal = () => {\n    showFormModal({\n      destination: \"\",\n      description: \"\",\n      startAt: moment(new Date()).format(\"YYYY-MM-DD\"),\n      endAt: moment(new Date()).format(\"YYYY-MM-DD\"),\n      price: \"\",\n      file: undefined,\n    })\n      .then((values) => {\n        const addVacation = addNewVacationsService(values).then((done) => {\n          socket.emit(\"reload\", {});\n          Swal.fire(\"Added!\", \"Your Vacation has been added.\", \"success\");\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  return (\n    <div>\n      {isAdmin && (\n        <div className={css.btnAddVacation}>\n          <h1 className={css.welcomeTitle}>Welcome Admin</h1>\n          <Button\n            variant=\"contained\"\n            className={classes.button}\n            startIcon={<AddIcon />}\n            onClick={showModal}\n          >\n            Add New Vacation\n          </Button>\n          <Divider variant=\"middle\" />\n        </div>\n      )}\n      <div>\n        <h1 style={{ textAlign: \"center\" }}> Vacations </h1>\n      </div>\n\n      {vacations.length === 0 && (\n        <div style={{ textAlign: \"center\" }}>No Vacations </div>\n      )}\n      <div className={css.vacationCardView}>\n        {vacations.map((vacation: IVacation) => (\n          <VacationCard key={vacation.id} {...vacation} socket={socket} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/vacations.service.ts",["129","130","131"],"import axios from \"axios\";\nimport { BASE_URL } from \"../../config\";\n\nconst API_URL = `${BASE_URL}/vacation`;\nasync function getVacationsService() {\n  const { data } = await axios.get(`${API_URL}`, {\n    headers: { \"x-access-token\": localStorage.getItem(\"VacationApp\") },\n  });\n\n  return data.result;\n}\n\nasync function addNewVacationsService(newVacation: any) {\n  const { destination, description, startAt, endAt, price, file } = newVacation;\n  const formData = new FormData();\n  formData.append(\"destination\", destination);\n  formData.append(\"description\", description);\n  formData.append(\"startAt\", startAt);\n  formData.append(\"endAt\", endAt);\n  formData.append(\"price\", price);\n  formData.append(\"file\", file);\n\n  const { data } = await axios.post(`${API_URL}/createVacation`, formData, {\n    headers: {\n      \"x-access-token\": localStorage.getItem(\"VacationApp\"),\n      \"content-type\": \"multipart/form-data\",\n    },\n  });\n\n  return data.result;\n}\n\nasync function editeVacationsService(vacationId: number, vacationDetails: any) {\n  console.log(\"edit\", vacationDetails);\n  const {\n    destination,\n    description,\n    startAt,\n    endAt,\n    price,\n    file,\n  } = vacationDetails;\n  const formData = new FormData();\n  formData.append(\"destination\", destination);\n  formData.append(\"description\", description);\n  formData.append(\"startAt\", startAt);\n  formData.append(\"endAt\", endAt);\n  formData.append(\"price\", price);\n  formData.append(\"file\", file);\n  const { data } = await axios.put(`${API_URL}` + \"/\" + vacationId, formData, {\n    headers: {\n      \"x-access-token\": localStorage.getItem(\"VacationApp\"),\n      \"content-type\": \"multipart/form-data\",\n    },\n  });\n\n  return data.result;\n}\n\nasync function deleteVacationByIdService(vacationId: number) {\n  const { data } = await axios.delete(`${API_URL}` + \"/\" + vacationId, {\n    headers: { \"x-access-token\": localStorage.getItem(\"VacationApp\") },\n  });\n  return data;\n}\n\nasync function followVacationsService(vacationId: any) {\n  const { data } = await axios.post(\n    `${API_URL}` + \"/follow\",\n    { vacationId },\n    {\n      headers: { \"x-access-token\": localStorage.getItem(\"VacationApp\") },\n    }\n  );\n  return data;\n}\n\nexport {\n  getVacationsService,\n  addNewVacationsService,\n  deleteVacationByIdService,\n  editeVacationsService,\n  followVacationsService,\n};\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/config/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/login-page/index.tsx",["132"],"import React, { useEffect, useState } from \"react\";\nimport {\n  Card,\n  CardContent,\n  CardActions,\n  TextField,\n  Button,\n  Paper,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport css from \"./style.module.css\";\nimport NameIcon from \"@material-ui/icons/SupervisorAccount\";\nimport LockIcon from \"@material-ui/icons/Lock\";\n\nimport { LoginAction } from \"../../../../store/async-actions/authUser\";\nimport { useSelector } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Alert } from \"@material-ui/lab\";\nimport { IAllState } from \"../../../../App\";\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\n\nconst LoginSchema = Yup.object().shape({\n  userName: Yup.string()\n    .required(\"User Name is required\")\n    .min(3, \"User Name Too Short!\")\n    .max(250, \"User Name Too Long!\"),\n  password: Yup.string().required(\"password is required\"),\n});\n\nexport function LoginPage() {\n  const history = useHistory();\n\n  const userFeild: any = {\n    userName: \"\",\n    password: \"\",\n  };\n\n  const [loginDetails, setUserLoginDetails] = useState(userFeild);\n  const currentUser = useSelector(\n    (state: IAllState) => state.mainReducer.currentUser\n  );\n  const alert = useSelector((state: IAllState) => state.alertReducer);\n\n  function onChangeUserLoginDetails(key: string, value: string) {\n    setUserLoginDetails({ ...loginDetails, [key]: value });\n  }\n\n  useEffect(() => {\n    if (currentUser.isLoggedIn === true) history.push(\"/home\");\n  }, []);\n\n  async function sendLoginReuqest() {\n    if (!loginDetails.userName || !loginDetails.password) return;\n    const result = await LoginAction(loginDetails);\n    if (!result) return;\n    const { accessToken, message } = result;\n    if (message === \"redirect\" && accessToken) {\n      setTimeout(() => {\n        window.location.reload();\n        history.push(\"/home\");\n      }, 1500);\n    }\n  }\n\n  return (\n    <div>\n      <div className={css.grow}>\n        <AppBar className={css.appBar} position=\"static\">\n          <div className={css.wrapper}>\n            <div className={css.header}>- Welcom to Vacation App - </div>\n          </div>\n        </AppBar>\n      </div>\n      <div className={css.loginDiv}>\n        <Paper>\n          <Formik\n            initialValues={userFeild}\n            onSubmit={sendLoginReuqest}\n            validationSchema={LoginSchema}\n            render={({\n              isValid,\n              values,\n              handleBlur,\n              handleChange,\n              touched,\n              errors,\n            }) => {\n              return (\n                <Form>\n                  <Card className={css.cardDiv}>\n                    <h2>Login please</h2>\n                    <CardContent>\n                      <div className={css.alert}>\n                        {alert.type === \"error\" && (\n                          <Alert severity=\"error\">\n                            <strong>{alert.message}</strong>\n                          </Alert>\n                        )}\n                        {alert.type === \"success\" && (\n                          <Alert severity=\"success\">\n                            <strong>{alert.message}</strong>\n                          </Alert>\n                        )}\n                      </div>\n\n                      <TextField\n                        id=\"userName\"\n                        name=\"userName\"\n                        label=\"user Name\"\n                        value={values.userName}\n                        onChange={(e) => {\n                          handleChange(e);\n                          let userName = e.currentTarget.value;\n                          onChangeUserLoginDetails(e?.target.name, userName);\n                        }}\n                        onBlur={handleBlur}\n                        helperText={touched.userName ? errors.userName : \"\"}\n                        error={touched.userName && Boolean(errors.userName)}\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <NameIcon />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n\n                      <TextField\n                        id=\"password\"\n                        label=\"password\"\n                        type=\"password\"\n                        name=\"password\"\n                        value={values.password}\n                        onChange={(e) => {\n                          handleChange(e);\n                          let password = e.currentTarget.value;\n                          onChangeUserLoginDetails(e?.target.name, password);\n                        }}\n                        onBlur={handleBlur}\n                        helperText={touched.password ? errors.password : \"\"}\n                        error={touched.password && Boolean(errors.password)}\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <LockIcon />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n                    </CardContent>\n                    <CardActions style={{ justifyContent: \"space-between\" }}>\n                      <Link to=\"/register\">\n                        <Button variant=\"contained\" color=\"primary\">\n                          Register\n                        </Button>\n                      </Link>\n                      <Button\n                        disabled={!isValid}\n                        onClick={sendLoginReuqest}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                      >\n                        Login\n                      </Button>\n                    </CardActions>\n                  </Card>\n                </Form>\n              );\n            }}\n          />\n        </Paper>\n      </div>\n    </div>\n  );\n}\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/async-actions/authUser.ts",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/auth.service.ts",["133"],"import axios from \"axios\";\nimport { BASE_URL } from \"../../config\";\nimport { IUser, IUserRegister } from \"../../interfaces\";\nimport { getPayload } from \"./token.service\";\n\nconst API_URL = `${BASE_URL}/auth`;\n\nasync function loginService(userDetails: IUser) {\n  const { data } = await axios.post(`${API_URL}/login`, userDetails);\n  return data;\n}\n\nasync function registerService(userDetails: IUserRegister) {\n  const { data } = await axios.post(`${API_URL}/register`, userDetails);\n  return data;\n}\n\nfunction getIsAdmin() {\n  const user = getPayload();\n  if (!user) return;\n  const { role } = user.data;\n  if (!role) return;\n\n  const isAdmin = role == \"Admin\" ? true : false;\n  return isAdmin;\n}\n\nexport { loginService, getIsAdmin, registerService };\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/token.service.ts",["134"],"function setToken(token: string) {\n  localStorage.setItem(\"VacationApp\", token);\n}\nfunction getToken() {\n  return localStorage.getItem(\"VacationApp\");\n}\nfunction deleteToken() {\n  localStorage.removeItem(\"VacationApp\");\n}\nfunction getPayload() {\n  const token = getToken();\n  let payload;\n  if (token) {\n    try {\n      payload = token.split(\".\")[1];\n      payload = JSON.parse(atob(payload));\n      const checkExpirationDate = getExpirationDate(payload);\n      if (!checkExpirationDate) return;\n      const checkIfExpired = isExpired(checkExpirationDate);\n      if (checkIfExpired) {\n        localStorage.removeItem(\"VacationApp\");\n        window.location.href = \"/\";\n        throw new Error(\"token has been expaired\");\n      }\n      return payload;\n    } catch (error) {\n      console.log(error);\n      if (payload == undefined) {\n        return deleteToken();\n      }\n    }\n  }\n}\n\nfunction getExpirationDate(jwtToken?: any) {\n  if (!jwtToken) {\n    return null;\n  }\n  const checkExpirationDate = jwtToken.exp * 1000 || null;\n  return checkExpirationDate;\n}\n\nfunction isExpired(exp?: number) {\n  if (!exp) {\n    return false;\n  }\n\n  return Date.now() > exp;\n}\n\nexport { setToken, getToken, deleteToken, getPayload };\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/services/auth-header.js",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/admin-page/index.tsx",["135"],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-modal/index.tsx",["136"],"import React, { useState } from \"react\";\nimport { Formik, Form, ErrorMessage, Field } from \"formik\";\nimport css from \"./style.module.css\";\n\nimport { TextField } from \"@material-ui/core\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport moment from \"moment\";\nimport { BASE_URL } from \"../../../config\";\nimport * as Yup from \"yup\";\nimport CustomImageInput from \"./CustomImageInput\";\n\nconst FILE_SIZE = 160 * 1024;\nconst SUPPORTED_FORMATS = [\"image/jpg\", \"image/jpeg\", \"image/gif\", \"image/png\"];\n\nconst VacationSchema = Yup.object().shape({\n  access: Yup.number().nullable(),\n  destination: Yup.string()\n    .required(\"Destination is required\")\n    .min(3, \"Destination Too Short!\")\n    .max(250, \"Destination Too Long!\"),\n  description: Yup.string()\n    .required(\"Description is required\")\n    .min(3, \"Description Too Short!\"),\n  startAt: Yup.date(),\n  endAt: Yup.date().min(\n    Yup.ref(\"startAt\"),\n    \"end date can't be before start date\"\n  ),\n  price: Yup.number().required(\"price is required\"),\n  file: Yup.mixed()\n    .required(\"A file is required\")\n    .test(\n      \"fileSize\",\n      \"File too large\",\n      (value) => value && value.size <= FILE_SIZE\n    )\n    .test(\n      \"fileFormat\",\n      \"Unsupported Format\",\n      (value) => value && SUPPORTED_FORMATS.includes(value.type)\n    ),\n});\n\nexport function ModalForm(props: any) {\n  const { title, values, onSubmit, onCancel } = props;\n  const imagePath = values.file?.split(\"/\")[1];\n  const [start, setStart] = useState(\"\");\n  const [end, setEnd] = useState(\"\");\n\n  const validateDates = () => {\n    if (start > end) return true;\n    return false;\n  };\n  return (\n    <div>\n      <h3 className={css.error}>{title} Vacation</h3>\n\n      <Formik\n        initialValues={values}\n        onSubmit={onSubmit}\n        validationSchema={VacationSchema}\n        render={({\n          isValid,\n          values,\n          touched,\n          errors,\n          handleBlur,\n          handleChange,\n          setFieldValue,\n        }) => {\n          return (\n            <Form>\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <div>\n                  <Field\n                    as={TextField}\n                    label=\"Destination\"\n                    value={values.destination}\n                    fullWidth\n                    required\n                    type=\"text\"\n                    name=\"destination\"\n                    onChange={handleChange}\n                    helperText={\n                      <ErrorMessage\n                        component=\"div\"\n                        className={css.error}\n                        name=\"destination\"\n                      />\n                    }\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    helperText={\n                      <ErrorMessage\n                        component=\"div\"\n                        className={css.error}\n                        name=\"description\"\n                      />\n                    }\n                    label=\"description\"\n                    fullWidth\n                    type=\"text\"\n                    name=\"description\"\n                    value={values.description}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                <div>\n                  <Field\n                    as={KeyboardDatePicker}\n                    inputVariant=\"outlined\"\n                    margin=\"normal\"\n                    fullWidth\n                    label=\"startAt\"\n                    format=\"MM/dd/yyyy\"\n                    value={values.startAt}\n                    onChange={(date: any) => {\n                      setStart(moment(date).format(\"YYYY-MM-DD\"));\n                      setFieldValue(\n                        \"startAt\",\n                        moment(date).format(\"YYYY-MM-DD\")\n                      );\n                    }}\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={KeyboardDatePicker}\n                    fullWidth\n                    inputVariant=\"outlined\"\n                    label=\"To\"\n                    format=\"MM/dd/yyyy\"\n                    value={values.endAt}\n                    onChange={(date: Date) => {\n                      setEnd(moment(date).format(\"YYYY-MM-DD\"));\n                      setFieldValue(\"endAt\", moment(date).format(\"YYYY-MM-DD\"));\n                    }}\n                    validate={validateDates}\n                  />\n                  {errors.endAt && touched.endAt ? (\n                    <div className={css.error}>{errors.endAt}</div>\n                  ) : (\n                    <div className={css.error}>{errors.endAt}</div>\n                  )}\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    helperText={\n                      <ErrorMessage\n                        component=\"div\"\n                        className={css.error}\n                        name=\"price\"\n                      />\n                    }\n                    label=\"price\"\n                    fullWidth\n                    type=\"number\"\n                    name=\"price\"\n                    value={values.price}\n                    onChange={handleChange}\n                  />\n                </div>\n                <div>\n                  {title === \"Edit\" && (\n                    <img\n                      width=\"100%\"\n                      alt=\"current photo\"\n                      src={BASE_URL + \"/\" + imagePath}\n                    />\n                  )}\n                </div>\n                {/* <div>\n                  <Input\n                    type=\"file\"\n                    name=\"file\"\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                      setFieldValue(\"file\", e.target.files![0]!);\n                    }}\n                  />\n                </div> */}\n                <Field\n                  name=\"file\"\n                  component={CustomImageInput}\n                  title=\"Select a file\"\n                  setFieldValue={setFieldValue}\n                  errorMessage={errors[\"file\"] ? errors[\"file\"] : undefined}\n                  touched={touched[\"file\"]}\n                  style={{ display: \"flex\" }}\n                  onBlur={handleBlur}\n                />\n\n                <div\n                  className=\"swal2-actions\"\n                  style={{ display: \"flex\", fontSize: \"0.9em\" }}\n                >\n                  <button\n                    disabled={!isValid}\n                    type=\"submit\"\n                    className=\"swal2-confirm swal2-styled\"\n                    style={{\n                      backgroundColor: \"#f44336\",\n                    }}\n                  >\n                    OK\n                  </button>\n                  <button\n                    onClick={onCancel}\n                    type=\"button\"\n                    className=\"swal2-cancel swal2-styled\"\n                    style={{\n                      display: \"inline-block\",\n                    }}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </MuiPickersUtilsProvider>\n            </Form>\n          );\n        }}\n      />\n    </div>\n  );\n}\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/async-actions/vacations.ts",["137","138"],"import ACTIONS from \"../actions\";\nimport store from \"../index\";\nimport {\n  deleteVacationByIdService,\n  getVacationsService,\n  editeVacationsService,\n  followVacationsService,\n} from \"../services/vacations.service\";\n\nconst { dispatch } = store;\n\nasync function getVacationsAction(searchValue?: string) {\n  try {\n    const result = await getVacationsService();\n    if (searchValue) {\n      if (typeof searchValue !== \"string\") return;\n      const filterR = result.find((vacation: any) => {\n        return vacation.destination\n          .toLowerCase()\n          .includes(searchValue.toLocaleLowerCase());\n      });\n      if (!filterR) return;\n      dispatch({\n        type: ACTIONS.VACATIONS.GET_VACATION_SUCCESS,\n        payload: Object.values({ filterR }),\n      });\n      console.log(Object.values({ filterR }));\n    } else {\n      dispatch({\n        type: ACTIONS.VACATIONS.GET_VACATION_SUCCESS,\n        payload: result,\n      });\n    }\n    console.log(result);\n  } catch (error) {\n    dispatch({ type: ACTIONS.VACATIONS.GET_VACATION_ERROR, payload: error });\n    dispatch({ type: ACTIONS.LOGOUT.LOGOUT_SUCCESS });\n  }\n}\n\nasync function deleteVacationByIdAction(vacationId: number) {\n  try {\n    const result = await deleteVacationByIdService(vacationId);\n  } catch (error) {}\n}\n\nasync function editVacationAction(vacationId: number, vacationDetails: any) {\n  try {\n    const result = await editeVacationsService(vacationId, vacationDetails);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function followVacationByIdAction(vacationId: any) {\n  try {\n    const result = await followVacationsService(vacationId);\n    return result;\n  } catch (error) {}\n}\n\nexport {\n  getVacationsAction,\n  deleteVacationByIdAction,\n  editVacationAction,\n  followVacationByIdAction,\n};\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/_helprs/history.js",[],["139","140"],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/filter/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/PrivateRoute.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/containers/pages/register-page/index.tsx",["141","142"],"import React, { useEffect, useState } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport css from \"./style.module.css\";\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  InputAdornment,\n  Paper,\n} from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport { registerUserAction } from \"../../../../store/async-actions/authUser\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Alert } from \"@material-ui/lab\";\nimport { IUserRegister } from \"../../../../interfaces\";\nimport { IAllState } from \"../../../../App\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport ACTIONS from \"../../../../store/actions\";\nimport NameIcon from \"@material-ui/icons/SupervisorAccount\";\nimport LockIcon from \"@material-ui/icons/Lock\";\n\nimport * as Yup from \"yup\";\nimport { Form, Formik } from \"formik\";\n\nconst RegisterSchema = Yup.object().shape({\n  userName: Yup.string()\n    .required(\"User Name is required\")\n    .min(3, \"User Name Too Short!\")\n    .max(250, \"User Name Too Long!\"),\n  firstName: Yup.string()\n    .required(\"First Name is required\")\n    .min(2, \"First Name Too Short!\")\n    .max(250, \"First Name Too Long!\"),\n  lastName: Yup.string()\n    .required(\"Last Name is required\")\n    .min(2, \"Last Name Too Short!\")\n    .max(250, \"Last Name Too Long!\"),\n  password: Yup.string().required(\"password is required\"),\n});\n\nexport function RegisterPage() {\n  const userFeild: IUserRegister = {\n    userName: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    password: \"\",\n  };\n\n  const alert = useSelector((state: IAllState) => state.alertReducer);\n  const [userDetails, setUserDetails] = useState(userFeild);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  function onChangeUserDetails(key: string, value: string) {\n    setUserDetails({ ...userDetails, [key]: value });\n  }\n\n  async function sendRegisterReuqest() {\n    if (\n      !userDetails.userName ||\n      !userDetails.firstName ||\n      !userDetails.lastName ||\n      !userDetails.password\n    )\n      return;\n    const result = await registerUserAction(userDetails);\n    if (!result) return;\n\n    const { complete } = result;\n    if (complete == true)\n      setTimeout(() => {\n        history.push(\"/login\");\n      }, 1500);\n  }\n\n  useEffect(() => {\n    dispatch({ type: ACTIONS.ALERT_MESSAGE.CLEAR, payload: \"\" });\n  }, []);\n  return (\n    <div>\n      <div className={css.grow}>\n        <AppBar className={css.appBar} position=\"static\">\n          <div className={css.wrapper}>\n            <div className={css.header}>- Welcom to Vacation App - </div>\n          </div>\n        </AppBar>\n      </div>\n      <div className={css.loginDiv}>\n        <Paper>\n          <Formik\n            initialValues={userFeild}\n            onSubmit={sendRegisterReuqest}\n            validationSchema={RegisterSchema}\n            render={({\n              isValid,\n              values,\n              handleBlur,\n              handleChange,\n              touched,\n              errors,\n            }) => {\n              return (\n                <Form>\n                  <Card className={css.cardDiv}>\n                    <h2>Register please</h2>\n                    <CardContent>\n                      <div className={css.alert}>\n                        {alert.type === \"error\" && (\n                          <Alert severity=\"error\">\n                            <strong>{alert.message}</strong>\n                          </Alert>\n                        )}\n                        {alert.type === \"success\" && (\n                          <Alert severity=\"success\">\n                            <strong>{alert.message}</strong>\n                          </Alert>\n                        )}\n                      </div>\n\n                      <TextField\n                        id=\"userName\"\n                        name=\"userName\"\n                        label=\"User Name\"\n                        value={values.userName}\n                        onChange={(e) => {\n                          handleChange(e);\n                          let userName = e.currentTarget.value;\n                          onChangeUserDetails(e?.target.name, userName);\n                        }}\n                        onBlur={handleBlur}\n                        helperText={touched.userName ? errors.userName : \"\"}\n                        error={touched.userName && Boolean(errors.userName)}\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <NameIcon />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n\n                      <TextField\n                        id=\"firstName\"\n                        name=\"firstName\"\n                        label=\"First Name\"\n                        value={values.firstName}\n                        onChange={(e) => {\n                          handleChange(e);\n                          let firstName = e.currentTarget.value;\n                          onChangeUserDetails(e?.target.name, firstName);\n                        }}\n                        onBlur={handleBlur}\n                        helperText={touched.firstName ? errors.firstName : \"\"}\n                        error={touched.firstName && Boolean(errors.firstName)}\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <NameIcon />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n\n                      <TextField\n                        id=\"lastName\"\n                        name=\"lastName\"\n                        label=\"Last Name\"\n                        value={values.lastName}\n                        onChange={(e) => {\n                          handleChange(e);\n                          let lastName = e.currentTarget.value;\n                          onChangeUserDetails(e?.target.name, lastName);\n                        }}\n                        onBlur={handleBlur}\n                        helperText={touched.lastName ? errors.lastName : \"\"}\n                        error={touched.lastName && Boolean(errors.lastName)}\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <NameIcon />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n\n                      <TextField\n                        id=\"password\"\n                        name=\"password\"\n                        label=\"Password\"\n                        type=\"password\"\n                        value={values.password}\n                        onChange={(e) => {\n                          handleChange(e);\n                          let password = e.currentTarget.value;\n                          onChangeUserDetails(e?.target.name, password);\n                        }}\n                        onBlur={handleBlur}\n                        helperText={touched.password ? errors.password : \"\"}\n                        error={touched.password && Boolean(errors.password)}\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <LockIcon />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n                    </CardContent>\n                    <CardActions style={{ justifyContent: \"space-between\" }}>\n                      <Button\n                        onClick={sendRegisterReuqest}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                      >\n                        Register\n                      </Button>\n\n                      <Link to=\"/login\">\n                        <Button variant=\"contained\" color=\"primary\">\n                          Login\n                        </Button>\n                      </Link>\n                    </CardActions>\n                  </Card>\n                </Form>\n              );\n            }}\n          />\n        </Paper>\n      </div>\n    </div>\n  );\n}\n","/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/alertReducer.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/store/reducers/index.tsx",[],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-modal/CustomImageInput.js",["143","144"],"import React, { Component } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport customImageInputStyle from \"./CustomImageInputStyle\";\nimport classnames from \"classnames\";\n\nclass CustomImageInput extends Component {\n  constructor(props) {\n    super(props);\n    this.fileUpload = React.createRef();\n    this.showFileUpload = this.showFileUpload.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n  }\n\n  state = {\n    file: undefined,\n    imagePreviewUrl: undefined,\n  };\n\n  showFileUpload() {\n    if (this.fileUpload) {\n      this.fileUpload.current.click();\n    }\n  }\n\n  handleImageChange(e) {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    if (file) {\n      reader.onloadend = () => {\n        this.setState({\n          file: file,\n          imagePreviewUrl: reader.result,\n        });\n      };\n      reader.readAsDataURL(file);\n      this.props.setFieldValue(this.props.field.name, file);\n    }\n  }\n\n  showPreloadImage() {\n    const { errorMessage, classes } = this.props;\n    const { name } = this.props.field;\n    const { file, imagePreviewUrl } = this.state;\n\n    let comp = null;\n\n    if (errorMessage) {\n      comp = <Icon style={{ fontSize: 36 }}>error_outline</Icon>;\n    } else if (file) {\n      comp = (\n        <img className={classes.avatarThumb} src={imagePreviewUrl} alt=\"...\" />\n      );\n    } else {\n      comp = <FolderIcon style={{ fontSize: 36 }} />;\n    }\n    return comp;\n  }\n\n  componentDidMount() {\n    console.log(this.fileUpload.current);\n  }\n\n  render() {\n    const { errorMessage, title, classes } = this.props;\n    const { name, onBlur } = this.props.field;\n\n    const avatarStyle = classnames(\n      classes.bigAvatar,\n      this.state.file ? [classes.whiteBack] : [classes.primaryBack],\n      { [classes.errorBack]: errorMessage }\n    );\n\n    return (\n      <div className={classes.container}>\n        <input\n          className={classes.hidden}\n          id={name}\n          name={name}\n          type=\"file\"\n          onChange={this.handleImageChange}\n          ref={this.fileUpload}\n          // onBlur={onBlur}\n          //className=\"form-control\"\n        />\n        <Typography className={classes.title} variant=\"h5\">\n          {title}\n        </Typography>\n        <Avatar className={avatarStyle} onClick={this.showFileUpload}>\n          {this.showPreloadImage()}\n        </Avatar>\n\n        {errorMessage ? (\n          <Typography variant=\"caption\" color=\"error\">\n            {errorMessage}\n          </Typography>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(customImageInputStyle)(CustomImageInput);\n",["145","146"],"/Users/refaatmulla/rafeDev/fullstack2020/react/vacation-RefaatMulla-Project/client/src/components/ui-component/vacation-modal/CustomImageInputStyle.js",[],{"ruleId":"147","replacedBy":"148"},{"ruleId":"149","replacedBy":"150"},{"ruleId":"151","severity":1,"message":"152","line":34,"column":6,"nodeType":"153","endLine":34,"endColumn":8,"suggestions":"154"},{"ruleId":"151","severity":1,"message":"155","line":128,"column":6,"nodeType":"153","endLine":128,"endColumn":13,"suggestions":"156"},{"ruleId":"157","severity":1,"message":"158","line":92,"column":15,"nodeType":"159","messageId":"160","endLine":92,"endColumn":26},{"ruleId":"161","severity":1,"message":"162","line":50,"column":49,"nodeType":"163","messageId":"164","endLine":50,"endColumn":50},{"ruleId":"161","severity":1,"message":"162","line":61,"column":52,"nodeType":"163","messageId":"164","endLine":61,"endColumn":53},{"ruleId":"161","severity":1,"message":"162","line":69,"column":18,"nodeType":"163","messageId":"164","endLine":69,"endColumn":19},{"ruleId":"151","severity":1,"message":"165","line":52,"column":6,"nodeType":"153","endLine":52,"endColumn":8,"suggestions":"166"},{"ruleId":"167","severity":1,"message":"168","line":24,"column":24,"nodeType":"163","messageId":"169","endLine":24,"endColumn":26},{"ruleId":"167","severity":1,"message":"168","line":28,"column":19,"nodeType":"163","messageId":"169","endLine":28,"endColumn":21},{"ruleId":"167","severity":1,"message":"170","line":19,"column":32,"nodeType":"163","messageId":"169","endLine":19,"endColumn":34},{"ruleId":"171","severity":1,"message":"172","line":174,"column":21,"nodeType":"173","endLine":178,"endColumn":23},{"ruleId":"157","severity":1,"message":"174","line":43,"column":11,"nodeType":"159","messageId":"160","endLine":43,"endColumn":17},{"ruleId":"157","severity":1,"message":"174","line":49,"column":11,"nodeType":"159","messageId":"160","endLine":49,"endColumn":17},{"ruleId":"147","replacedBy":"175"},{"ruleId":"149","replacedBy":"176"},{"ruleId":"167","severity":1,"message":"168","line":71,"column":18,"nodeType":"163","messageId":"169","endLine":71,"endColumn":20},{"ruleId":"151","severity":1,"message":"152","line":79,"column":6,"nodeType":"153","endLine":79,"endColumn":8,"suggestions":"177"},{"ruleId":"178","severity":1,"message":"179","line":47,"column":13,"nodeType":"159","messageId":"160","endLine":47,"endColumn":17},{"ruleId":"178","severity":1,"message":"180","line":70,"column":19,"nodeType":"159","messageId":"160","endLine":70,"endColumn":25},{"ruleId":"147","replacedBy":"148"},{"ruleId":"149","replacedBy":"150"},"no-native-reassign",["181"],"no-negated-in-lhs",["182"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["183"],"React Hook useEffect has a missing dependency: 'currentUser.data.id'. Either include it or remove the dependency array.",["184"],"@typescript-eslint/no-unused-vars","'addVacation' is assigned a value but never used.","Identifier","unusedVar","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","React Hook useEffect has missing dependencies: 'currentUser.isLoggedIn' and 'history'. Either include them or remove the dependency array.",["185"],"eqeqeq","Expected '===' and instead saw '=='.","unexpected","Expected '!==' and instead saw '!='.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","'result' is assigned a value but never used.",["181"],["182"],["186"],"no-unused-vars","'name' is assigned a value but never used.","'onBlur' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"187","fix":"188"},{"desc":"189","fix":"190"},{"desc":"191","fix":"192"},{"desc":"187","fix":"193"},"Update the dependencies array to be: [dispatch]",{"range":"194","text":"195"},"Update the dependencies array to be: [currentUser.data.id, props]",{"range":"196","text":"197"},"Update the dependencies array to be: [currentUser.isLoggedIn, history]",{"range":"198","text":"199"},{"range":"200","text":"195"},[1123,1125],"[dispatch]",[3764,3771],"[currentUser.data.id, props]",[1525,1527],"[currentUser.isLoggedIn, history]",[2405,2407]]